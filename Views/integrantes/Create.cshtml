@model Worship.integrante

@{
    ViewBag.Title = "Criar integrante";
}

<h2>Criar integrante</h2>


@using (Html.BeginForm("Create", "integrantes", FormMethod.Post, new { enctype = "multipart/form-data" })) 
{
    @Html.AntiForgeryToken()

    <div class="form-horizontal">
        <hr />
        <div class="col-md-9">
            @Html.ValidationSummary(true, "", new { @class = "text-danger" })
            <div class="form-group">
                @Html.LabelFor(model => model.tx_nome_integrante, htmlAttributes: new { @class = "control-label col-md-2" })
                <div class="col-md-10">
                    @Html.EditorFor(model => model.tx_nome_integrante, new { htmlAttributes = new { @class = "form-control" } })
                    @Html.ValidationMessageFor(model => model.tx_nome_integrante, "", new { @class = "text-danger" })
                </div>
            </div>

            <div class="form-group">
                @Html.LabelFor(model => model.tx_email_integrante, htmlAttributes: new { @class = "control-label col-md-2" })
                <div class="col-md-10">
                    @Html.EditorFor(model => model.tx_email_integrante, new { htmlAttributes = new { @class = "form-control" } })
                    @Html.ValidationMessageFor(model => model.tx_email_integrante, "", new { @class = "text-danger" })
                </div>
            </div>

            <div class="form-group">
                @Html.LabelFor(model => model.tx_nome_curto_integrante, htmlAttributes: new { @class = "control-label col-md-2" })
                <div class="col-md-10">
                    @Html.EditorFor(model => model.tx_nome_curto_integrante, new { htmlAttributes = new { @class = "form-control" } })
                    @Html.ValidationMessageFor(model => model.tx_nome_curto_integrante, "", new { @class = "text-danger" })
                </div>
            </div>

            <div class="form-group">
                <div class="col-md-offset-2 col-md-10">
                    <input type="submit" value="Salvar" class="btn btn-default" />
                </div>
            </div>
        </div>
        <div class="col-md-3">
            <div class="form-group">
                @Html.LabelFor(model => model.foto_integrante, htmlAttributes: new { @class = "control-label col-md-7" })
                <div class="col-md-10" style="width: 100%; min-height: 100%">
                    <figure>
                        <div class="thumbnail">
                            <img id='foto' name='foto' src='/Content/images/noprofile.png' alt='Foto do integrante' height='240' width='240' />
                            <figcaption>Tamanho ideal: 240 x 240</figcaption>
                        </div>
                    </figure>
                    <input type="file" id="upload_foto" name="upload_foto" accept="image/gif, image/jpeg, image/png" class="btn btn-default" onchange="readURL(this);" />
                </div>
            </div>
        </div>
    </div>
}

<div>
    @Html.ActionLink("Voltar", "Index")
</div>

@section Scripts {
    @Scripts.Render("~/bundles/jqueryval")
}
<script type="text/javascript">
    function readURL(input) {
        if (input.files && input.files[0]) {
            var reader = new FileReader();

            reader.onload = function (e) {
                $('#foto')
                    .attr('src', e.target.result)
                    .width(240)
                    .height(240);
            };
            reader.readAsDataURL(input.files[0]);
        }
    }
</script>